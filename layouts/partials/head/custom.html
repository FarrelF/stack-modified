{{ if and (eq .Site.Params.arcio.enabled true) (eq hugo.IsProduction true) }}
    {{ with .Site.Params.arcio.widgetId }}
        <script async src="https://arc.io/widget.min.js#{{ . }}"></script>
    {{ end }}
{{ end }}
{{- if and (eq .Site.Params.Counter.enabled true) (eq hugo.IsProduction true) -}}
    {{- with .Site.Params.Counter -}}
    <script>if(!sessionStorage.getItem("_swa")&&document.referrer.indexOf(location.protocol+"//"+location.host)!== 0){fetch("https://counter.dev/track?"+new URLSearchParams({referrer:document.referrer,screen:screen.width+"x"+screen.height,user:"{{- .Username -}}",utcoffset:"{{- .utcOffset -}}"}))};sessionStorage.setItem("_swa","1");</script>
    {{- end -}}
{{- end -}}

{{- $PermalinkFonts := "" -}}
{{- if and (.Site.Params.CDN.Fonts.URL) (eq hugo.IsProduction true) -}}
    {{- $PermalinkFonts = .Site.Params.CDN.Fonts.URL -}}
{{- end -}}
{{ if not .Site.Params.favicon }}
    <link rel="icon" href="data:,">
{{ end }}

{{/* Preconnect and DNS Prefetch */}}
<link rel="preconnect" href="https://cdn.statically.io/" crossorigin>
<link rel="dns-prefetch" href="https://cdn.statically.io/">

{{/* Lato Latin woff2 files */}}
{{- $LatoLatin_Light_woff2 := resources.Get "fonts/Lato/LatoLatin-Light.woff2" | fingerprint "sha256" -}}
{{- $LatoLatin_LightItalic_woff2 := resources.Get "fonts/Lato/LatoLatin-LightItalic.woff2" | fingerprint "sha256" -}}
{{- $LatoLatin_Regular_woff2 := resources.Get "fonts/Lato/LatoLatin-Regular.woff2" | fingerprint "sha256" -}}
{{- $LatoLatin_Italic_woff2 := resources.Get "fonts/Lato/LatoLatin-Italic.woff2" | fingerprint "sha256" -}}
{{- $LatoLatin_Bold_woff2 := resources.Get "fonts/Lato/LatoLatin-Bold.woff2" | fingerprint "sha256" -}}
{{- $LatoLatin_BoldItalic_woff2 := resources.Get "fonts/Lato/LatoLatin-BoldItalic.woff2" | fingerprint "sha256" -}}

{{/* Lato Latin woff files */}}
{{- $LatoLatin_Light_woff := resources.Get "fonts/Lato/LatoLatin-Light.woff" | fingerprint "sha256" -}}
{{- $LatoLatin_LightItalic_woff := resources.Get "fonts/Lato/LatoLatin-LightItalic.woff" | fingerprint "sha256" -}}
{{- $LatoLatin_Regular_woff := resources.Get "fonts/Lato/LatoLatin-Regular.woff" | fingerprint "sha256" -}}
{{- $LatoLatin_Italic_woff := resources.Get "fonts/Lato/LatoLatin-Italic.woff" | fingerprint "sha256" -}}
{{- $LatoLatin_Bold_woff := resources.Get "fonts/Lato/LatoLatin-Bold.woff" | fingerprint "sha256" -}}
{{- $LatoLatin_BoldItalic_woff := resources.Get "fonts/Lato/LatoLatin-BoldItalic.woff" | fingerprint "sha256" -}}

{{/* Preload fonts */}}
<link rel="preload" as="font" type="font/woff2" href="{{ printf "%s%s" $PermalinkFonts $LatoLatin_Regular_woff2.RelPermalink }}" crossorigin>
<link rel="preload" as="font" type="font/woff2" href="{{ printf "%s%s" $PermalinkFonts $LatoLatin_Italic_woff2.RelPermalink }}" crossorigin>
<link rel="preload" as="font" type="font/woff2" href="{{ printf "%s%s" $PermalinkFonts $LatoLatin_Bold_woff2.RelPermalink }}" crossorigin>

{{/* Fonts Style */}}
<style>
@font-face {
    font-family: 'Lato';
    font-style: normal;
    font-weight: 300;
    font-display: swap;
    src: url('{{ printf "%s%s" $PermalinkFonts $LatoLatin_Light_woff2.RelPermalink }}') format('woff2'), /* Modern Browsers */
         url('{{ printf "%s%s" $PermalinkFonts $LatoLatin_Light_woff.RelPermalink }}') format('woff'); /* Modern Browsers */
    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
    font-family: 'Lato';
    font-style: italic;
    font-weight: 300;
    font-display: swap;
    src: url('{{ printf "%s%s" $PermalinkFonts $LatoLatin_LightItalic_woff2.RelPermalink }}') format('woff2'), /* Modern Browsers */
         url('{{ printf "%s%s" $PermalinkFonts $LatoLatin_LightItalic_woff.RelPermalink }}') format('woff'); /* Modern Browsers */
    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

/* Webfont: LatoLatin-Regular */
@font-face {
    font-family: 'Lato';
    font-style: normal;
    font-weight: 400;
    font-display: swap;
    src: url('{{ printf "%s%s" $PermalinkFonts $LatoLatin_Regular_woff2.RelPermalink }}') format('woff2'), /* Modern Browsers */
         url('{{ printf "%s%s" $PermalinkFonts $LatoLatin_Regular_woff.RelPermalink }}') format('woff'); /* Modern Browsers */
    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
    font-family: 'Lato';
    font-style: italic;
    font-weight: 400;
    font-display: swap;
    src: url('{{ printf "%s%s" $PermalinkFonts $LatoLatin_Italic_woff2.RelPermalink }}') format('woff2'), /* Modern Browsers */
         url('{{ printf "%s%s" $PermalinkFonts $LatoLatin_Italic_woff.RelPermalink }}') format('woff'); /* Modern Browsers */
    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

/* Webfont: LatoLatin-Bold */
@font-face {
    font-family: 'Lato';
    font-style: normal;
    font-weight: 700;
    font-display: swap;
    src: url('{{ printf "%s%s" $PermalinkFonts $LatoLatin_Bold_woff2.RelPermalink }}') format('woff2'), /* Modern Browsers */
         url('{{ printf "%s%s" $PermalinkFonts $LatoLatin_Bold_woff.RelPermalink }}') format('woff'); /* Modern Browsers */
    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
    font-family: 'Lato';
    font-style: italic;
    font-weight: 700;
    font-display: swap;
    src: url('{{ printf "%s%s" $PermalinkFonts $LatoLatin_BoldItalic_woff2.RelPermalink }}') format('woff2'), /* Modern Browsers */
         url('{{ printf "%s%s" $PermalinkFonts $LatoLatin_BoldItalic_woff.RelPermalink }}') format('woff'); /* Modern Browsers */
    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
</style>